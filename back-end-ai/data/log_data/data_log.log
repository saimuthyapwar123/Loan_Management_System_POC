[2026-01-03 16:43:52,267]  [INFO] ["Line_no" : 27] [wrapper()] [user_login executed in 3737.26 ms]
[2026-01-03 16:43:52,267]  [INFO] ["Line_no" : 49] [admin_login()] [Admin logged in: mani@gamil.com]
[2026-01-03 16:43:58,758]  [INFO] ["Line_no" : 113] [get_me()] [Current user fetched: mani@gamil.com]
[2026-01-03 16:44:02,317]  [INFO] ["Line_no" : 27] [wrapper()] [list_users executed in 314.94 ms]
[2026-01-03 16:44:02,317]  [INFO] ["Line_no" : 135] [get_users()] [Admin fetched users of role: BORROWER]
[2026-01-03 16:44:06,457]  [INFO] ["Line_no" : 27] [wrapper()] [get_loans_by_status executed in 1159.53 ms]
[2026-01-03 16:44:06,458]  [INFO] ["Line_no" : 95] [list_loans()] [Loans fetched with status=ALL]
[2026-01-03 16:44:13,265]  [INFO] ["Line_no" : 27] [wrapper()] [get_all_approved_loans executed in 936.3 ms]
[2026-01-03 16:44:13,267]  [INFO] ["Line_no" : 31] [list_approved_loans()] [List of approved loan data fetched]
[2026-01-03 16:44:16,700]  [INFO] ["Line_no" : 43] [list_disbursed_loans()] [List of disbursed loan data fetched]
[2026-01-03 16:44:36,874]  [INFO] ["Line_no" : 27] [wrapper()] [user_login executed in 680.37 ms]
[2026-01-03 16:44:36,874]  [INFO] ["Line_no" : 90] [borrower_login()] [Borrower logged in: 7788990011]
[2026-01-03 16:44:43,436]  [INFO] ["Line_no" : 113] [get_me()] [Current user fetched: 7788990011]
[2026-01-03 16:44:48,859]  [INFO] ["Line_no" : 113] [get_me()] [Current user fetched: 7788990011]
[2026-01-03 16:45:21,781]  [INFO] ["Line_no" : 113] [get_me()] [Current user fetched: 7788990011]
[2026-01-03 16:45:29,359]  [INFO] ["Line_no" : 113] [get_me()] [Current user fetched: 7788990011]
[2026-01-03 16:45:36,021]  [INFO] ["Line_no" : 113] [get_me()] [Current user fetched: 7788990011]
[2026-01-03 16:45:44,431]  [INFO] ["Line_no" : 113] [get_me()] [Current user fetched: 7788990011]
[2026-01-03 16:45:52,820]  [INFO] ["Line_no" : 113] [get_me()] [Current user fetched: 7788990011]
[2026-01-03 16:45:54,146]  [INFO] ["Line_no" : 113] [get_me()] [Current user fetched: 7788990011]
[2026-01-03 16:46:14,127]  [INFO] ["Line_no" : 113] [get_me()] [Current user fetched: 7788990011]
[2026-01-03 16:46:21,925]  [INFO] ["Line_no" : 113] [get_me()] [Current user fetched: 7788990011]
[2026-01-03 16:46:58,197]  [ERROR] ["Line_no" : 62] [borrower_chat()] [Borrower RAG failure: 'Chroma' object has no attribute 'persist']
Traceback (most recent call last):
  File "E:\Sai_Prasad_Portfolio\two\projects_sai\AI_Loan_Management_System\back-end-ai\ai_chatbot\app\routers\lc_router.py", line 51, in borrower_chat
    answer = await rag_with_customer_context(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "E:\Sai_Prasad_Portfolio\two\projects_sai\AI_Loan_Management_System\back-end-ai\ai_chatbot\app\services\rag_service.py", line 40, in rag_with_customer_context
    result = await graph.ainvoke(state)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\SVCS\anaconda3\envs\lms\Lib\site-packages\langgraph\pregel\main.py", line 3158, in ainvoke
    async for chunk in self.astream(
  File "C:\Users\SVCS\anaconda3\envs\lms\Lib\site-packages\langgraph\pregel\main.py", line 2971, in astream
    async for _ in runner.atick(
  File "C:\Users\SVCS\anaconda3\envs\lms\Lib\site-packages\langgraph\pregel\_runner.py", line 304, in atick
    await arun_with_retry(
  File "C:\Users\SVCS\anaconda3\envs\lms\Lib\site-packages\langgraph\pregel\_retry.py", line 137, in arun_with_retry
    return await task.proc.ainvoke(task.input, config)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\SVCS\anaconda3\envs\lms\Lib\site-packages\langgraph\_internal\_runnable.py", line 705, in ainvoke
    input = await asyncio.create_task(
            ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\SVCS\anaconda3\envs\lms\Lib\site-packages\langgraph\_internal\_runnable.py", line 473, in ainvoke
    ret = await self.afunc(*args, **kwargs)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "E:\Sai_Prasad_Portfolio\two\projects_sai\AI_Loan_Management_System\back-end-ai\ai_chatbot\app\services\rag_graph.py", line 54, in retrieval_node
    retrieved_text = await loan_policy_tool.ainvoke(state["query"])
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\SVCS\anaconda3\envs\lms\Lib\site-packages\langchain_core\tools\simple.py", line 53, in ainvoke
    return await super().ainvoke(input, config, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\SVCS\anaconda3\envs\lms\Lib\site-packages\langchain_core\tools\base.py", line 639, in ainvoke
    return await self.arun(tool_input, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\SVCS\anaconda3\envs\lms\Lib\site-packages\langchain_core\tools\base.py", line 1111, in arun
    raise error_to_raise
  File "C:\Users\SVCS\anaconda3\envs\lms\Lib\site-packages\langchain_core\tools\base.py", line 1077, in arun
    response = await coro_with_context(coro, context)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\SVCS\anaconda3\envs\lms\Lib\site-packages\langchain_core\tools\simple.py", line 147, in _arun
    return await self.coroutine(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "E:\Sai_Prasad_Portfolio\two\projects_sai\AI_Loan_Management_System\back-end-ai\ai_chatbot\app\services\rag_graph.py", line 25, in retrieve_tool
    retriever = get_chroma_retriever()
                ^^^^^^^^^^^^^^^^^^^^^^
  File "E:\Sai_Prasad_Portfolio\two\projects_sai\AI_Loan_Management_System\back-end-ai\ai_chatbot\app\vector_store\chroma_store.py", line 64, in get_chroma_retriever
    _vector_db.persist()
    ^^^^^^^^^^^^^^^^^^
AttributeError: 'Chroma' object has no attribute 'persist'
During task with name 'retrieve' and id 'cf4536e7-41bd-28c9-22fe-1709199ea9c3'
